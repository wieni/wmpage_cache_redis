parameters:
    wmpage_cache.redis.prefix: 'wmpage_cache:'

services:
    wmpage_cache.redis.factory:
        class: Drupal\wmpage_cache_redis\RedisClientFactory

    wmpage_cache.storage.redis:
        class: Drupal\wmpage_cache_redis\Storage\RedisStorage
        arguments:
            - '@wmpage_cache.redis.factory'
            - '@wmpage_cache.checksum'
            - '@wmpage_cache.serializer'
            - '%wmpage_cache.redis.prefix%'

    wmpage_cache_redis.checksum_factory:
        class: Drupal\wmpage_cache_redis\RedisCacheTagsChecksumClientFactory

    wmpage_cache_redis.checksum:
        class: Drupal\wmpage_cache_redis\RedisCacheTagsChecksum
        arguments:
            - '@wmpage_cache_redis.checksum_factory'
        tags: [{ name: cache_tags_invalidator }]
